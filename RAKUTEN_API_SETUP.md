# 楽天API設定ガイド

## 🚀 楽天APIキーの取得手順

### 1. 楽天デベロッパーセンターでアカウント作成

1. [楽天デベロッパーセンター](https://developers.rakuten.co.jp/) にアクセス
2. 「新規登録」をクリック
3. 必要事項を入力してアカウント作成

### 2. アプリケーション登録

1. ログイン後、「アプリケーション登録」をクリック
2. 以下の項目を入力：

   - **アプリケーション名**: `プロテイン診断システム`
   - **アプリケーションURL**: `http://localhost:3000`
   - **アプリケーション説明**: `プロテイン商品の比較・診断サイト`
   - **会社名**: `個人`（個人の場合）
   - **担当者名**: あなたの名前

3. 利用規約に同意して「登録」

### 3. アプリケーションIDの確認

登録完了後、「アプリケーションID」が発行されます。
これが**RAKUTEN_APP_ID**として使用します。

## 🔧 システムへの設定

### 方法1: 環境変数ファイル（.env.local）

```bash
# .env.local ファイルに追加
RAKUTEN_APP_ID=your_app_id_here
```

### 方法2: 管理画面から直接入力

1. `http://localhost:3000/admin` にアクセス
2. 「楽天APIキー」フィールドにアプリケーションIDを入力
3. 「商品検索」ボタンをクリック

## 📊 利用制限

### 無料プラン
- **月間リクエスト数**: 10,000回
- **1日あたり**: 約333回
- **レート制限**: 1秒間に1回

### 有料プランへのアップグレード
月間10,000回を超える場合は有料プランを検討してください。

## 🎯 使用可能な検索キーワード例

- `プロテイン`
- `ホエイプロテイン`
- `ソイプロテイン`
- `ザバス プロテイン`
- `DNS プロテイン`
- `ビーレジェンド`
- `マイプロテイン`

## ⚠️ 重要な注意事項

1. **APIキーの管理**
   - APIキーは絶対に公開しないでください
   - GitHubなどにcommitしないよう注意

2. **利用規約の遵守**
   - 楽天の利用規約を必ず確認してください
   - 商用利用の場合は追加の審査が必要な場合があります

3. **レート制限**
   - 1秒間に1回以上のリクエストは送らないでください
   - システムが自動で間隔を調整します

## 🔍 トラブルシューティング

### エラー: "楽天APIキーが設定されていません"
- APIキーが正しく設定されているか確認
- .env.localファイルが正しい場所にあるか確認

### エラー: "API呼び出しに失敗しました"
- APIキーが有効か確認
- ネットワーク接続を確認
- 利用制限に達していないか確認

### 商品が取得できない
- 検索キーワードを変更してみてください
- より具体的なキーワード（ブランド名など）を試してください

## 📈 次のステップ

楽天API統合が完了したら：

1. **Amazon PA-API** の統合
2. **Yahoo!ショッピングAPI** の統合
3. **自動データ更新システム** の構築
4. **AI商品分析システム** の実装

---

## サポート

問題が発生した場合は、以下をご確認ください：
- [楽天API公式ドキュメント](https://developers.rakuten.co.jp/ja/documents/)
- システムの管理画面 `http://localhost:3000/admin`